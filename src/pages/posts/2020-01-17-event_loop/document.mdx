import styles from "./document.module.css";

<div className={styles.ImageStyle}>

# EventLoop 를 알아보기 전에, JS 는 어떻게 이루어져 있는가?

1. Call Stack: 프레임들의 스택.

2. Task queue: 처리할 메시지의 대기열. (비동기로 호출되는 함수들이 이곳에 쌓인다.)

3. Heap Memory: 구조화 되지 않은 메모리 공간.

즉, 모든 콜 스택들이 빠지고 나서야, Task Queue 에 쌓여있던 것들이 다시 콜스택으로 들어가서 실행.

따라서 이벤트에 걸려있는 핸들러는 절대 먼저 실행 될 수 없다.

# JS에서의 비동기 동작.

JS: 싱글 쓰레드로 동작한다.

그 말은 즉슨 한 함수가 끝나기 전까지 다른 함수가 진행중인 함수를 막을 수 없다는 것.


그렇담, 비동기적으로 작동하는 것은 어떻게 구현할까?

js는 이렇게 비동기를 구현한다.

```js
while(queue.waitForMessage()){
  queue.processNextMessage();
}
```

queue에 메시지가 들어오기를 계속 기다린다.
그리고, queue.waitForMessage() -> true가 되는 순간(queue에 메시지가 들어왔다 는 뜻.) 바로 들어온 메시지를 실행한다.
하지만 싱글 쓰레드의 성질이 있는만큼, 기존 먼저 들어온 메시지가 있다면, 그 메시지가 끝나고 난 뒤 그 후에 들어온 메시지를 실행한다.

</div>
